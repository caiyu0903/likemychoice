<div class="New-Instagram" id="new-instagram-{{ section.id }}">
    <div class=" container{% if section.settings.full_width %} container--no-max no-padding{% endif %}">
        <div class="new-instagram-title">
            <h3 class="new-title bolder capitalize align-center">{{ section.settings.title }}</h3>
        </div>
        <div class="new-instagram-container">
            <div class="new-instagram-frame grid" data-instagram-slider>
                {% for block in section.blocks %}
                    <div class="new-instagram-box {% if forloop.index == 3 %}span-row-2 {% endif %}">
                        <div class="new__image rimage-outer-wrapper rimage-background lazyload fade-in"
                             data-bgset="{% render 'bgset', image: block.settings.image %}"
                             data-sizes="auto"
                             data-parent-fit="cover"
                             style="background-position: {{ block.settings.image.presentation.focal_point }}; --ar-padding: {{ 1 | divided_by: block.settings.image.aspect_ratio | times: 100 }}%">
                            <noscript>
                                <div class="rimage-wrapper"
                                     style="padding-top:{{ 1 | divided_by: block.settings.image.aspect_ratio | times: 100 }}%">
                                    <img src="{{ block.settings.image | img_url: '1024x1024' }}"
                                         alt="{{ block.settings.image.alt | escape }}" class="rimage__image">
                                </div>
                            </noscript>
                            <a class="new-instagram-icon" href="{{ block.settings.link }}">
                                <div>
                                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none"
                                         xmlns="http://www.w3.org/2000/svg">
                                        <g clip-path="url(#clip0_1197_12397)">
                                            <path d="M15.9998 12.0001C14.939 12.0001 13.9216 12.4215 13.1714 13.1717C12.4213 13.9218 11.9998 14.9392 11.9998 16.0001C11.9998 17.0609 12.4213 18.0784 13.1714 18.8285C13.9216 19.5787 14.939 20.0001 15.9998 20.0001C17.0607 20.0001 18.0781 19.5787 18.8283 18.8285C19.5784 18.0784 19.9998 17.0609 19.9998 16.0001C19.9998 14.9392 19.5784 13.9218 18.8283 13.1717C18.0781 12.4215 17.0607 12.0001 15.9998 12.0001ZM15.9998 9.33341C17.7679 9.33341 19.4636 10.0358 20.7139 11.286C21.9641 12.5363 22.6665 14.232 22.6665 16.0001C22.6665 17.7682 21.9641 19.4639 20.7139 20.7141C19.4636 21.9644 17.7679 22.6667 15.9998 22.6667C14.2317 22.6667 12.536 21.9644 11.2858 20.7141C10.0355 19.4639 9.33317 17.7682 9.33317 16.0001C9.33317 14.232 10.0355 12.5363 11.2858 11.286C12.536 10.0358 14.2317 9.33341 15.9998 9.33341ZM24.6665 9.00008C24.6665 9.44211 24.4909 9.86603 24.1783 10.1786C23.8658 10.4912 23.4419 10.6667 22.9998 10.6667C22.5578 10.6667 22.1339 10.4912 21.8213 10.1786C21.5088 9.86603 21.3332 9.44211 21.3332 9.00008C21.3332 8.55805 21.5088 8.13413 21.8213 7.82157C22.1339 7.50901 22.5578 7.33341 22.9998 7.33341C23.4419 7.33341 23.8658 7.50901 24.1783 7.82157C24.4909 8.13413 24.6665 8.55805 24.6665 9.00008ZM15.9998 5.33341C12.7012 5.33341 12.1625 5.34275 10.6278 5.41075C9.5825 5.46008 8.88117 5.60008 8.2305 5.85341C7.65184 6.07741 7.2345 6.34541 6.7905 6.79075C6.37318 7.19395 6.05231 7.68619 5.85184 8.23075C5.5985 8.88408 5.4585 9.58408 5.4105 10.6281C5.34117 12.1001 5.33317 12.6147 5.33317 16.0001C5.33317 19.2987 5.3425 19.8374 5.4105 21.3721C5.45984 22.4161 5.59984 23.1187 5.85184 23.7681C6.0785 24.3481 6.34517 24.7654 6.78784 25.2081C7.23717 25.6561 7.6545 25.9241 8.22784 26.1454C8.8865 26.4001 9.58784 26.5414 10.6278 26.5894C12.0998 26.6587 12.6145 26.6667 15.9998 26.6667C19.2985 26.6667 19.8372 26.6574 21.3718 26.5894C22.4145 26.5401 23.1172 26.4001 23.7678 26.1481C24.3452 25.9227 24.7652 25.6547 25.2078 25.2121C25.6572 24.7627 25.9252 24.3454 26.1465 23.7721C26.3998 23.1147 26.5412 22.4121 26.5892 21.3721C26.6585 19.9001 26.6665 19.3854 26.6665 16.0001C26.6665 12.7014 26.6572 12.1627 26.5892 10.6281C26.5398 9.58541 26.3998 8.88141 26.1465 8.23075C25.9456 7.68675 25.6253 7.19469 25.2092 6.79075C24.8061 6.37321 24.3138 6.0523 23.7692 5.85208C23.1158 5.59875 22.4145 5.45875 21.3718 5.41075C19.8998 5.34141 19.3852 5.33341 15.9998 5.33341ZM15.9998 2.66675C19.6225 2.66675 20.0745 2.68008 21.4958 2.74675C22.9158 2.81341 23.8825 3.03608 24.7332 3.36675C25.6132 3.70541 26.3545 4.16408 27.0958 4.90408C27.7738 5.57061 28.2984 6.37687 28.6332 7.26675C28.9625 8.11608 29.1865 9.08408 29.2532 10.5041C29.3158 11.9254 29.3332 12.3774 29.3332 16.0001C29.3332 19.6227 29.3198 20.0747 29.2532 21.4961C29.1865 22.9161 28.9625 23.8827 28.6332 24.7334C28.2994 25.6238 27.7747 26.4302 27.0958 27.0961C26.4291 27.7738 25.6229 28.2984 24.7332 28.6334C23.8838 28.9627 22.9158 29.1867 21.4958 29.2534C20.0745 29.3161 19.6225 29.3334 15.9998 29.3334C12.3772 29.3334 11.9252 29.3201 10.5038 29.2534C9.08384 29.1867 8.11717 28.9627 7.2665 28.6334C6.37627 28.2994 5.56987 27.7747 4.90384 27.0961C4.22571 26.4297 3.70108 25.6234 3.3665 24.7334C3.03584 23.8841 2.81317 22.9161 2.7465 21.4961C2.68384 20.0747 2.6665 19.6227 2.6665 16.0001C2.6665 12.3774 2.67984 11.9254 2.7465 10.5041C2.81317 9.08275 3.03584 8.11741 3.3665 7.26675C3.70015 6.37632 4.22491 5.56984 4.90384 4.90408C5.57007 4.22572 6.37641 3.70105 7.2665 3.36675C8.11717 3.03608 9.0825 2.81341 10.5038 2.74675C11.9252 2.68408 12.3772 2.66675 15.9998 2.66675Z"
                                                  fill="white"/>
                                        </g>
                                        <defs>
                                            <clipPath id="clip0_1197_12397">
                                                <rect width="32" height="32" fill="white"/>
                                            </clipPath>
                                        </defs>
                                    </svg>
                                </div>
                                <h4 class="new-sub-title bolder capitalize"
                                    style="color: #fff;margin-top: 8px;">{{ block.settings.title }}</h4>
                            </a>
                        </div>
                    
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
{%- liquid
    assign mg_top_desktop = section.settings.mg_top_desktop
    assign mg_top_tablet = section.settings.mg_top_tablet
    assign mg_top_mobile = section.settings.mg_top_mobile
    
    assign mg_bottom_desktop = section.settings.margin_bottom
    assign mg_bottom_tablet = section.settings.margin_bottom_tab
    assign mg_bottom_mobile = section.settings.margin_bottom_mb
    
    assign color_bg = section.settings.bg_color

-%}

<style>
    #new-instagram-{{ section.id }} {
        background-color: {{ color_bg }};
    }

    @media (max-width: 767px) {
        #new-instagram-{{ section.id }} {
            padding-top: {{ mg_top_mobile | append: 'px' }};
            padding-bottom: {{ mg_bottom_mobile | append: 'px' }};
        }

    }

    @media (min-width: 1200px) {
        #new-instagram-{{ section.id }} {
            padding-top: {{ mg_top_desktop | append: 'px' }};
            padding-bottom: {{ mg_bottom_desktop | append: 'px' }};
        }
    }


    @media (min-width: 768px) and (max-width: 1199px) {
        #new-instagram-{{ section.id }} {
            padding-top: {{ mg_top_tablet | append: 'px' }};
            padding-bottom: {{ mg_bottom_tablet | append: 'px' }};
        }
    }

    .new-instagram-box {
        position: relative;
    }


    .new-instagram-icon {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background-color: #00000054;
        opacity: 0;
        transition: all .3s ease;
    }

    .new-instagram-box:hover .new-instagram-icon {
        opacity: 1;
    }

    .new-instagram-icon svg {
        width: 40px;
        fill: none;
        height: 40px;
        stroke: none;
    }

    .new-instagram-box img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    @media (min-width: 767px) {
        .grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
        }

        .span-row-2 {
            grid-row: span 2 / auto;
            grid-column: span 2 / auto;
        }

        .new-instagram-title {
            margin-bottom: 30px;
            padding-left: 60px;
        }
    }


    .new-instagram-box:hover {

    }

    @media (max-width: 767px) {
        .new-instagram-container {
            padding: 0;
        }

        .new-instagram-title {
            margin-bottom: 18px;
            padding: 0 24px;
        }

        .new-instagram-box {
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
        }

        .span-row-2 {
            grid-row: span 2 / auto;
            grid-column: span 2 / auto;
        }
    }
</style>

{% schema %}
{
  "name": "New-Instagram",
  "class": "New-Instagram-section",
  "settings": [
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "id": "full_width",
      "type": "checkbox",
      "label": "Full page width",
      "default": true
    },
    {
      "type": "select",
      "id": "container",
      "label": "Layout:",
      "default": "container",
      "options": [
        {
          "value": "container",
          "label": "Container"
        },
        {
          "value": "1170",
          "label": "Container 1170"
        },
        {
          "value": "1770",
          "label": "Container 1770"
        },
        {
          "value": "fullwidth",
          "label": "Full Width"
        }
      ]
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background Color"
    },
    {
      "type": "header",
      "content": "Margin Bottom:"
    },
    {
      "type": "range",
      "id": "margin_bottom_mb",
      "label": "Mobile",
      "min": 0,
      "max": 100,
      "step": 1,
      "default": 40
    },
    {
      "type": "range",
      "id": "margin_bottom_tab",
      "label": "Tablet",
      "min": 0,
      "max": 100,
      "step": 1,
      "default": 40
    },
    {
      "type": "range",
      "id": "margin_bottom",
      "label": "Desktop",
      "min": 0,
      "max": 100,
      "step": 1,
      "default": 0
    },
    {
      "type": "header",
      "content": "Margin Top"
    },
    {
      "type": "range",
      "id": "mg_top_mobile",
      "label": "Mobile",
      "min": 0,
      "max": 100,
      "step": 1,
      "default": 40
    },
    {
      "type": "range",
      "id": "mg_top_tablet",
      "label": "Tablet",
      "min": 0,
      "max": 100,
      "step": 1,
      "default": 40
    },
    {
      "type": "range",
      "id": "mg_top_desktop",
      "label": "Desktop",
      "min": 0,
      "max": 100,
      "step": 1,
      "default": 0
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title"
    }
  ],
  "blocks": [
    {
      "type": "ins",
      "name": "Instagram",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Select Image"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "New-Instagram"
    }
  ]
}
{% endschema %}